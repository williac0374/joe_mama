Load
Save
Zoom
getFun
Help
B-Set
B-Go
Find
Pretty
Compress
Expand
Base64
TEST!

169
  }
170
  joe.hp+=0.01
171
  if(joe.hp>100){joe.hp=100}
172
}
173
function draw_hbar(who,xoff,yoff,width,height,hp){
174
  
175
  draw_set_color(255,255,255)
176
  draw_rectangle(who.x+xoff, who.y+yoff, width,height,false,0,0,0)
177
  draw_set_color(0,255,0)
178
  draw_set_linewidth(height*0.8)
179
  draw_line(who.x+xoff+2, who.y+yoff+height*0.5, (who.x+xoff+(width*(hp/100)))-2 , who.y+yoff+height*0.5)
180
  //draw_set_linedash(dash)
181
  
182
}
183
function draw(){
184
  if(shake==true){
185
     canvas.style.transform = `translate(${irandom(3)}px, ${irandom(3)}px)`;
186
  }
187
  draw_image(b_drop,0,0,canvas.width,canvas.height)
188
  
189
  draw_image(icon.spr,icon.x,icon.y)
190
  if(joe.hp>0){draw_strip(joe.x,joe.y,joe.spr,joe.frm);
191
  draw_hbar(icon,40,6,128,16,joe.hp)}
192
  for(let i = nmes.length; i > 0; i--){
193
    draw_strip(nmes[i-1].x,nmes[i-1].y,nmes[i-1].spr,nmes[i-1].frm)
194
    draw_hbar(nmes[i-1],40,0,32,8,nmes[i-1].hp)
195
  }
196
  draw_set_color(0,0,0)
197
  if(nmes.length>0){
198
  draw_text(10,10, nmes.length+' punchies left!',24)
199
  }else{
200
    draw_text(10,10, ' no punchies left WINNER!!!!!!',24)
201
  }
202
  // draw_set_color(0,255,0);draw_circle(start.x, start.y, 12, false)
203
  // draw_set_color(255,0,0);draw_circle(end.x, end.y, 12, false)
204
  //draw_set_color(255,0,0);draw_text(100,100,floor(mx-joe.x),24)
205
  // joes sprite size visualizer
206
  //draw_set_color(255,255,255);draw_rectangle(joe.x, joe.y, 128, 128,true,0,0,0)
207
}
208
var scaleX = 1
209
var scaleY = 1
210
function input(){
211
  /////////////////////////////////////////////
212
  ///ZOOM CORRECTION
213
  //////////////////////////////////////////////
214
  var rect = canvas.getBoundingClientRect()
215
  scaleX = canvas.width / rect.width;
216
  scaleY = canvas.height / rect.height;
